<launch>
    <!--
    <arg name="depth_topic" value="/zed/depth/depth_registered" />
        <arg name="rgb_topic" value="/zed/rgb/image_rect_color" />
        <arg name="camera_info_topic" value="/zed/rgb/camera_info" />
        -->
    <arg name="rtabmap_args" default="--delete_db_on_start"/>
    <!-- otherwise known as trolley mapping! -->

    <include file="$(find rover_rtabmap_config)/launch/setup_mapping_transforms_handheld.launch"/>
    <include file="$(find rover_rtabmap_config)/launch/odom_up.launch" />
    <group ns="rtabmap">
        <node output="screen" pkg="rtabmap_ros" name="rtabmap" type="rtabmap">

            <param name="subscribe_depth" value="true" />
            <param name="subscribe_scan_cloud" value="false" />


            <remap from="odom" to="/odom_source/zed/odom" />
            <remap from="rgb/image" to="/camera/rgb/image_rect_color" />
            <remap from="rgb/camera_info" to="/camera/rgb/camera_info" />
            <remap from="scan_cloud" to="/camera/point_cloud/cloud_registered" />
            <remap from="depth/image" to="/camera/depth/depth_registered" />

            <param name="frame_id" value="robot_base" />

        </node>
    </group>
</launch>
